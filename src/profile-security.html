<!DOCTYPE html>
<html lang="en">
<head>
	<title>Security settings | Crafthost</title>
	@@include('./include/head.html')
</head>
<body>
	<div class="wrapper">
		@@include('./include/icon-sprite.html')
		<header class="header">
			@@include('./include/header.html')
			<div class="header__bottom container">
				<h1 class="h1">Security settings</h1>
			</div>
		</header>
		<!--  board  -->
		<div class="board">
			<ul class="container-lg breadcrumbs">
				<li><a href="profile-settings.html">Profile settings</a></li>
				<li><a href="#">Security settings</a></li>
			</ul>

			<div class="container box setting__list">

				<div class="setting__list-item">
					<div class="setting__descr">
						<h3 class="h3">Support PIN</h3>
						<button type="button" class="btn btn--sm btn--arrow" data-tab-open="pin-tab" data-drawer-trigger aria-controls="pin-modal" aria-expanded="false" aria-label="Open"><svg class="i-arrow" viewBox="0 0 32 32"><use xlink:href="#i-arrow"/></svg></button>
					</div>
				</div>

				<div class="setting__list-item">
					<div class="setting__descr">
						<h3 class="h3">Change Password</h3>
					</div>
					<div class="setting__cta">
						<button type="button" class="btn btn--lg btn--secondary" data-tab-open="password-tab" data-drawer-trigger aria-controls="password-modal" aria-expanded="false" aria-label="Open">Edit</button>
					</div>
				</div>

				<div class="setting__list-item" data-fill>
					<div class="setting__descr">
						<h3 class="h3">Two-Factor Authentication<span class="is-action" data-tab-open="two-factor-tab" data-drawer-trigger aria-controls="two-factor-modal" aria-expanded="false" aria-label="Open">(set)</span></h3>
						<div class="status" data-status="danger">Not filled</div>
					</div>
					<div class="setting__cta">
						<label class="switch__label">
							<input type="checkbox" name="two-factor" disabled> <!---disabled once -->
							<span class="switch__circle"></span>
						</label>
					</div>
				</div>

				<div class="setting__list-item">
					<div class="setting__descr">
						<h3 class="h3">Delete Account</h3>
					</div>
					<div class="setting__cta">
						<button type="button" class="btn btn--lg btn--simply" data-drawer-trigger aria-controls="delete-account-modal" aria-expanded="false" aria-label="Alert">Delete</button>
					</div>
				</div>
			</div>
		</div>
	</div>
	@@include('./include/footer.html')

	<!-- popup (set pin)-->
	<div class="drawer" id="pin-modal" data-drawer-target>
		<div class="drawer__overlay" data-drawer-close tabindex="-1"></div>
			<div class="drawer__wrapper">
				<button class="drawer__close btn" data-drawer-close aria-label="Close"></button>
				<div class="drawer__fieldset">
				@@include('./pages/modal-pin.html')
	      </div>
		</div>
	</div>

	<!-- popup (change password)-->
	<div class="drawer" id="password-modal" data-drawer-target>
		<div class="drawer__overlay" data-drawer-close tabindex="-1"></div>
			<div class="drawer__wrapper">
				<button class="drawer__close btn" data-drawer-close aria-label="Close"></button>
				<div class="drawer__fieldset">
				@@include('./pages/modal-password.html')
	      </div>
		</div>
	</div>

	<!-- popup (two-factor Authentication)-->
	<div class="drawer drawer--lg drawer--notable" id="two-factor-modal" data-drawer-target>
		<div class="drawer__overlay" data-drawer-close tabindex="-1"></div>
		<div class="drawer__wrapper">
			<button class="drawer__close btn" data-drawer-close aria-label="Close"></button>
			<div class="drawer__fieldset">
				<!-- tab -->
				@@include('./pages/modal-two-factor.html')
			</div>
		</div>
	</div>

	<!-- popup (remove account)-->
	<div class="drawer drawer--alert" id="delete-account-modal" data-drawer-target>
		<div class="drawer__overlay" data-drawer-close tabindex="-1"></div>
			<div class="drawer__alert">
				<div class="drawer__fieldset">
				@@include('./pages/modal-delete-account.html')
	      </div>
		</div>
	</div>

	<script src="js/main.js"></script>
   <script src="js/drawer.js"></script>
	<script>
		const passPickers = document.querySelectorAll('.password-picker');
			if (passPickers) {
				[...passPickers].forEach(function (el) {
						el.addEventListener("click", function (e) {
							e.preventDefault();
							const target = e.target;
							const parent = target.closest('.form-field');
							const pass = parent.querySelector('.form-input');
							parent.classList.toggle('password-show');
							if (parent.classList.contains('password-show')) {
								pass.setAttribute('type','text');
							} else {
								pass.setAttribute('type', 'password');
							}
						});
					}
				);
			};
	</script>
</body>
</html>